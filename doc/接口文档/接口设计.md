# 前后端接口设计说明书

On root directory:

* Address:`/api/file/`
* Method:`GET`
* Return: `json`

```
[
	{
		name: "file1",
		size: "1.1MB",
        isDirectory: false,
        modifiedDate: "2019-11-24",
        shareStatus: "私有",
	}
]
```

Other:

* Address:`/api/file/[DirectoryName]/[DirectoryName]/...`
* others are same as above

Directory should be on the top of the list.

## 获取某用户资料

* Url: `/api/user_profile`
* Method: `GET`
* Params: `username: 2017110048`
* Return: `json`

```json
{
    "code": "1",
    "status": "success",
    "result": {
        "username": "2017110048",
        "nickname": "zjb",
    }
}
```

## 获取个人全部资料

* Url: `/api/myself`
* Method: `GET`
* Params: `token: abcdefg`
* Return: `json`

```json
{
    "code": "2",
    "status": "success",
    "result": {
        "username": "2017110048",
        "nickname": "zjb"
    }
}
```

## 获取个人全部群组

* Url: `/api/my_groups`
* Method: `GET`
* Params: `token: abcdefg`
* Return: `json`

```json
{
    "code": "3",
    "status": "success",
    "result": [
        {
            "id": 3,
            "name": "重案六组"
        },
        {
            "id": 12,
            "name": "日语资料分享群"
        }
    ]
}
```

## 获取某群组详细信息

* Url: `/api/group_info`
* Method: `GET`
* Params: `token: abcdefg & id: 12`
* Return: `json`

```json
{
    "code": "4",
    "status": "success",
    "result": {
        "id": 12,
        "name": "日语资料分享群",
        "members": [
            {
                "username": "2017110048",
                "nickname": "zjb",
                "permission": "member"
            },
            {
                "username": "9017123456",
                "nickname": "老司机",
                "permission": "master"
            }
        ]
    }
}
```

## 修改个人资料

* Url: `/api/myself`
* Method: `PUT`
* Params: `token: abcdefg`
* Body: `json`

```json
{
    "nickname": "zhangjunbo"
}
```

* Return: `json`

```json
{
    "code": "5",
    "status": "success",
    "result": {}
}
```

